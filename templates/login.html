{% extends "layout.html" %}
{% block title %}Log In{% endblock %}
{% block content %}
<div class="card card-centered card-wider" style="
  background: #fff;
  color: #2b2b2b;
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.08);
  border: none;
">
  <div class="card-body">
    <style>
      .modern-login-btn {
        background: linear-gradient(to right, #444, #000);
        border: none;
        color: #fff;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
        border-radius: 30px;
        padding: 0.75rem 1.5rem;
        width: 100%;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }
      .modern-login-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
      }
      .modern-login-btn:disabled {
        background: #d7d7d7;
        color: #888;
        cursor: not-allowed;
      }

      .form-control {
        background-color: #fff;
        border: 1px solid #ccc;
        color: #2b2b2b;
        transition: border-color 0.3s, box-shadow 0.3s;
      }
      .form-control:focus {
        border-color: #000;
        box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
      }

      .btn-outline-secondary {
        border-color: #444;
        color: #444;
        transition: all 0.3s ease;
      }
      .btn-outline-secondary:hover {
        background-color: #444;
        color: #fff;
      }

      .card-title {
        color: #2b2b2b;
      }
      a {
        color: #444;
      }
      a:hover {
        color: #000;
        text-decoration: none;
      }
    </style>

    <h5 class="card-title text-center mb-4">Log In</h5>

    {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <form method="POST" action="{{ url_for('login') }}">
      <div class="mb-3">
        <label>Email</label>
        <input 
          type="email" 
          name="email" 
          class="form-control" 
          placeholder="Enter your email" 
          required 
        />
      </div>

      <div class="mb-3">
        <label>Password</label>
        <div class="input-group">
          <input 
            type="password" 
            name="password" 
            id="login-password" 
            class="form-control" 
            placeholder="Enter your password" 
            required 
          />
          <button 
            type="button" 
            id="toggle-login-password" 
            class="btn btn-outline-secondary"
          >
            Show
          </button>
        </div>
      </div>

      <button class="modern-login-btn" type="submit">
        Log In
      </button>
    </form>

    <div class="mt-3 text-center">
      <small>
        Need an account? <a href="{{ url_for('signup') }}">Sign up</a>
      </small>
    </div>
    <div class="mt-3 text-center">
      <small>
        <a href="https://projectjunction.onrender.com" target="_blank">
          Visit without logging in
        </a>
      </small>
    </div>
  </div>
</div>

<script>
  // Toggle password visibility
  document.getElementById("toggle-login-password").addEventListener("click", function () {
    const passwordInput = document.getElementById("login-password");
    const isPassword = passwordInput.type === "password";
    passwordInput.type = isPassword ? "text" : "password";
    this.textContent = isPassword ? "Hide" : "Show";
  });
</script>
{% endblock %}
